<header class="header">

    <% if admin_signed_in? %>
        <%# 管理者用ヘッダー %>
        <nav class="navbar fixed-top navbar-expand-lg navbar-dark p-3" style="background-color: #000000;">
            <%# ロゴ %>
            <%= link_to admins_home_path, class:"navbar-brand mx-2" do %>
                <div class="admin-logo"></div>
            <% end %>
                
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mr-auto ml-4">

                    <li class="nav-item mx-1 dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            商品管理
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <%= link_to "商品一覧", admins_products_path, class:"dropdown-item" %>
                            <div class="dropdown-divider"></div>
                            <%= link_to "商品登録", new_admins_product_path, class:"dropdown-item" %>
                            <div class="dropdown-divider"></div>
                            <%= link_to "商品ジャンル一覧 & 登録", admins_genres_path, class:"dropdown-item" %>
                        </div>
                    </li>

                    <li class="nav-item mx-1 dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            注文管理
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <%= link_to "注文履歴一覧", admins_orders_path, class:"dropdown-item" %>
                        </div>
                    </li>

                    <li class="nav-item mx-1 dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            生産者管理
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <%= link_to "生産者一覧", admins_producers_path, class:"dropdown-item" %>
                            <div class="dropdown-divider"></div>
                            <%= link_to "生産者追加", new_admins_producer_path, class:"dropdown-item" %>
                        </div>
                    </li>

                    <li class="nav-item mx-1 dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            会員管理
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <%= link_to "会員一覧", admins_customers_path, class:"dropdown-item" %>
                        </div>
                    </li>

                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item mx-2 dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            管理者
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <%= link_to "アカウント情報編集", edit_admin_registration_path, class:"dropdown-item" %>
                            <div class="dropdown-divider"></div>
                            <%= link_to "サインアウト", destroy_admin_session_path, method: 'DELETE', class:"dropdown-item" %>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
            
    <% else %>

        <%# 利用者orゲスト用ヘッダー %>
        <nav class="navbar fixed-top navbar-expand-lg navbar-light p-3" style="background-color: #bae8e8; border-bottom: 3px solid #272343; border-top: 3px solid #272343;">
            <%# ロゴ %>
            <%= link_to root_path, class:"navbar-brand mx-2" do %>
                <div class="logo"></div>
            <% end %>   
            <div class="ml-4">
                <div class="form-row">
                    <div class="form-inline">
                    <%= form_with(model: @product, url: products_search_path, method: :get) do |f| %>
                        <%= f.text_field :search, class:"" %>
                        <%= f.button "", type:"submit", class:'btn btn-sm btn-hachiss' do %>
                        <i class="fas fa-search"></i>
                        <% end %>
                    <% end %>
                    </div>
                </div>
            </div>            
                
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="mr-auto"></div>
                <ul class="navbar-nav">

                    <% if customer_signed_in? %>
                        <%# カート %>
                        <li class="nav-item mx-2">
                            <%= link_to root_path do %>
                                <i class="fas fa-shopping-cart m-1" aria-hidden="true" style="font-size: 30px; color: #272343;"></i>
                            <% end %>
                        </li>
                        <%# カート終わり %>
                        <%# ヘッダーリンク %>
                        <li class="nav-item mx-2 dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <%= current_customer.email %>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                <%= link_to "マイページ", root_path, class:"dropdown-item" %>
                                <%= link_to "お気に入り商品", root_path, class:"dropdown-item" %>
                                <%= link_to "ショッピングカート", root_path, class:"dropdown-item" %>
                                <div class="dropdown-divider"></div>
                                <%= link_to "サインアウト", destroy_customer_session_path, method: 'DELETE', class:"dropdown-item" %>
                            </div>
                        </li>
                        <%# ヘッダーリンク終わり %>
                    <% else %>
                        <%# ヘッダーリンク %>
                        <li class="nav-item mx-2 dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                ログイン / 会員登録 
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                <%= link_to "ログイン", new_customer_session_path, class:"dropdown-item" %>
                                <div class="dropdown-divider"></div>
                                <%= link_to "会員登録", new_customer_registration_path, class:"dropdown-item" %>
                            </div>
                        </li>
                        <%# ヘッダーリンク終わり %>
                    <% end %>

                </ul>

            </div>

        </nav>

    <% end %>

</header>


