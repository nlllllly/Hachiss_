<%# 利用者orゲスト用ヘッダー %>
<nav class="navbar fixed-top navbar-expand-lg navbar-light p-3" style="background-color: #bae8e8; border-bottom: 3px solid #272343; border-top: 3px solid #272343;">
    <%# ロゴ %>
    <%= link_to root_path, class:"navbar-brand mx-2" do %>
        <div class="logo"></div>
    <% end %>
    <%# ロゴ 終わり %>
    
        
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
        <% if customer_signed_in? %>
            <ul class="navbar-nav">
                <li class="nav-item mx-2 dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        商品を探す
                    </a>
                    <div class="dropdown-menu dropdown-menu-left" aria-labelledby="navbarDropdown">
                        <%= link_to "商品一覧", products_path, class:"dropdown-item" %>
                        <%= link_to "お気に入り商品", product_favorites_path, class:"dropdown-item" %>
                    </div>
                </li>
                <li class="nav-item mx-2 dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        生産者を探す
                    </a>
                    <div class="dropdown-menu dropdown-menu-left" aria-labelledby="navbarDropdown">
                        <%= link_to "生産者一覧", producers_path, class:"dropdown-item" %>
                        <%= link_to "フォロー中の生産者", producer_favorites_path, class:"dropdown-item" %>
                    </div>
                </li>
            </ul>

            <div class="mr-auto"></div>

            <ul class="navbar-nav">
                <div class="dropdown-divider" style="border-top: 1px solid #272343;"></div>
                <%# カート %>
                <li class="nav-item mx-2">
                    <%= link_to cart_items_path do %>
                        <i class="fas fa-shopping-cart m-1" aria-hidden="true" style="font-size: 30px; color: #272343;"></i>
                    <% end %>
                </li>
                <%# カート終わり %>
                <%# ヘッダーリンク %>
                <li class="nav-item mx-2 dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <%= current_customer.email %>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                        <%= link_to "マイページ", customers_my_page_path, class:"dropdown-item" %>
                        <%= link_to "ショッピングカート", cart_items_path, class:"dropdown-item" %>
                        <div class="dropdown-divider"></div>
                        <%= link_to "サインアウト", destroy_customer_session_path, method: 'DELETE', class:"dropdown-item" %>
                    </div>
                </li>
            </ul>
            <%# ヘッダーリンク終わり %>
        <% else %>
            <ul class="navbar-nav">
                <li class="nav-item mx-2 dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        商品を探す
                    </a>
                    <div class="dropdown-menu dropdown-menu-left" aria-labelledby="navbarDropdown">
                        <%= link_to "商品一覧", products_path, class:"dropdown-item" %>
                    </div>
                </li>
                <li class="nav-item mx-2 dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        生産者を探す
                    </a>
                    <div class="dropdown-menu dropdown-menu-left" aria-labelledby="navbarDropdown">
                        <%= link_to "生産者一覧", producers_path, class:"dropdown-item" %>
                    </div>
                </li>
            </ul>

            <div class="mr-auto"></div>

            <ul class="navbar-nav">
                <div class="dropdown-divider" style="border-top: 1px solid #272343;"></div>
                <%# ヘッダーリンク %>
                <li class="nav-item mx-2 dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        ログイン / 会員登録 
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                        <%= link_to "ログイン", new_customer_session_path, class:"dropdown-item" %>
                        <div class="dropdown-divider"></div>
                        <%= link_to "会員登録", new_customer_registration_path, class:"dropdown-item" %>
                    </div>
                </li>
                <%# ヘッダーリンク終わり %>
            </ul>

        <% end %>


    </div>

</nav>